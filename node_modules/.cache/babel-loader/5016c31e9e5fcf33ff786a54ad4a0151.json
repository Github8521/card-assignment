{"ast":null,"code":"var _jsxFileName = \"/Users/gopal/react-js/inotebook/src/context/notes/NoteState.js\",\n    _s = $RefreshSig$();\n\nimport { useState } from \"react\";\nimport NoteContex from \"./NoteContex\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst NoteState = props => {\n  _s();\n\n  const host = 'http://localhost:4000';\n  const initialnotes = [];\n  const [notes, setNotes] = useState(initialnotes); //  add note\n\n  const addNote = async (title, description, tag) => {\n    // api call \n    const response = await fetch(`${host}/api/notes/addnotes`, {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json',\n        \"auth-token\": \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyIjp7ImlkIjoiNjJhYjg5YTU5ZTZmZWY5ODY0YzZiNzhhIn0sImlhdCI6MTY1NTQ1NTE3MX0.7Y-7ZyeVYxVh9xwkOZrszcK2nr2XCLDmcPiEBmZg_wE\"\n      },\n      body: JSON.stringify({\n        title,\n        description,\n        tag\n      })\n    });\n    const json = await response.json();\n    console.log(json);\n    console.log('adding a note');\n    const note = {\n      \"_id\": \"62acde8b6feca70de134894b06\",\n      \"user\": \"62ab89a59e6fef9864c6b78a\",\n      \"title\": title,\n      \"description\": description,\n      \"tag\": tag,\n      \"date\": \"2022-06-17T20:05:31.907Z\",\n      \"__v\": 0\n    };\n    setNotes(notes.concat(note));\n  }; //  get all note\n\n\n  const getNotes = async () => {\n    // api call \n    const response = await fetch(`${host}/api/notes/fechallnotes`, {\n      method: 'GET',\n      headers: {\n        'Content-Type': 'application/json',\n        \"auth-token\": \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyIjp7ImlkIjoiNjJhYjg5YTU5ZTZmZWY5ODY0YzZiNzhhIn0sImlhdCI6MTY1NTQ1NTE3MX0.7Y-7ZyeVYxVh9xwkOZrszcK2nr2XCLDmcPiEBmZg_wE\"\n      }\n    });\n    const json = await response.json();\n    console.log(json);\n    setNotes(json);\n  }; //  delete note\n\n\n  const deleteNote = async id => {\n    // api call\n    const response = await fetch(`${host}/api/notes/deletenote/${id}`, {\n      method: 'DELETE',\n      headers: {\n        'Content-Type': 'application/json',\n        \"auth-token\": \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyIjp7ImlkIjoiNjJhYjg5YTU5ZTZmZWY5ODY0YzZiNzhhIn0sImlhdCI6MTY1NTQ1NTE3MX0.7Y-7ZyeVYxVh9xwkOZrszcK2nr2XCLDmcPiEBmZg_wE\"\n      }\n    });\n    const json = response.json();\n    console.log(json);\n    console.log('deleting the note with id' + id);\n    const newNote = notes.filter(note => {\n      return note._id !== id;\n    });\n    setNotes(newNote);\n  }; //  edit note\n\n\n  const editNote = async (id, title, description, tag) => {\n    // Api call (google-fech with headers)\n    const response = await fetch(`${host}/api/notes/updatenote/${id}`, {\n      method: 'PUT',\n      headers: {\n        'Content-Type': 'application/json',\n        \"auth-token\": \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyIjp7ImlkIjoiNjJhYjg5YTU5ZTZmZWY5ODY0YzZiNzhhIn0sImlhdCI6MTY1NTQ1NTE3MX0.7Y-7ZyeVYxVh9xwkOZrszcK2nr2XCLDmcPiEBmZg_wE\"\n      },\n      body: JSON.stringify({\n        title,\n        description,\n        tag\n      })\n    });\n    const json = await response.json();\n    console.log(json);\n    let newNotes = JSON.parse(json.stringify(notes));\n\n    for (let index = 0; index < notes.length; index++) {\n      const element = notes[index];\n\n      if (notes[index]._id === id) {\n        notes[index].title = title;\n        notes[index].description = description;\n        notes[index].tag = tag;\n      }\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(NoteContex.Provider, {\n    value: {\n      notes,\n      setNotes,\n      addNote,\n      deleteNote,\n      editNote,\n      getNotes\n    },\n    children: props.children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 113,\n    columnNumber: 3\n  }, this);\n};\n\n_s(NoteState, \"PmObJbMQ3XIzAd8o6ZA74AiiggE=\");\n\n_c = NoteState;\nexport default NoteState;\n\nvar _c;\n\n$RefreshReg$(_c, \"NoteState\");","map":{"version":3,"names":["useState","NoteContex","NoteState","props","host","initialnotes","notes","setNotes","addNote","title","description","tag","response","fetch","method","headers","body","JSON","stringify","json","console","log","note","concat","getNotes","deleteNote","id","newNote","filter","_id","editNote","newNotes","parse","index","length","element","children"],"sources":["/Users/gopal/react-js/inotebook/src/context/notes/NoteState.js"],"sourcesContent":["import { useState } from \"react\";\nimport NoteContex from \"./NoteContex\";\nconst NoteState = (props) => {\n  const host = 'http://localhost:4000'\n  const initialnotes = []\n  const [notes, setNotes] = useState(initialnotes)\n\n  //  add note\n  const addNote =async (title, description, tag) => {\n    // api call \n    const response = await fetch(`${host}/api/notes/addnotes`, {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json',\n        \"auth-token\": \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyIjp7ImlkIjoiNjJhYjg5YTU5ZTZmZWY5ODY0YzZiNzhhIn0sImlhdCI6MTY1NTQ1NTE3MX0.7Y-7ZyeVYxVh9xwkOZrszcK2nr2XCLDmcPiEBmZg_wE\"\n\n      },\n\n      body: JSON.stringify({title,description,tag})\n    });\n    const json= await response.json();\n    console.log(json);\n\n\n\n\n\n    console.log('adding a note');\n    const note = {\n      \"_id\": \"62acde8b6feca70de134894b06\",\n      \"user\": \"62ab89a59e6fef9864c6b78a\",\n      \"title\": title,\n      \"description\": description,\n      \"tag\": tag,\n      \"date\": \"2022-06-17T20:05:31.907Z\",\n      \"__v\": 0\n    }\n    setNotes(notes.concat(note))\n  }\n  //  get all note\n  const getNotes =async () => {\n    // api call \n    const response = await fetch(`${host}/api/notes/fechallnotes`, {\n      method: 'GET',\n      headers: {\n        'Content-Type': 'application/json',\n        \"auth-token\": \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyIjp7ImlkIjoiNjJhYjg5YTU5ZTZmZWY5ODY0YzZiNzhhIn0sImlhdCI6MTY1NTQ1NTE3MX0.7Y-7ZyeVYxVh9xwkOZrszcK2nr2XCLDmcPiEBmZg_wE\"\n      }\n    });\n    const json=await response.json()\n    console.log(json);\n    setNotes(json)\n \n  }\n\n\n  //  delete note\n\n  const deleteNote =async (id) => {\n    // api call\n    const response = await fetch(`${host}/api/notes/deletenote/${id}`, {\n      method: 'DELETE',\n      headers: {\n        'Content-Type': 'application/json',\n        \"auth-token\": \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyIjp7ImlkIjoiNjJhYjg5YTU5ZTZmZWY5ODY0YzZiNzhhIn0sImlhdCI6MTY1NTQ1NTE3MX0.7Y-7ZyeVYxVh9xwkOZrszcK2nr2XCLDmcPiEBmZg_wE\"\n\n      },\n\n    });\n    const json=response.json()\n    console.log(json);\n\n    console.log('deleting the note with id' + id);\n    const newNote = notes.filter((note) => { return note._id !== id })\n    setNotes(newNote)\n  }\n\n\n  //  edit note\n  const editNote = async(id, title, description, tag) => {\n    // Api call (google-fech with headers)\n\n    const response = await fetch(`${host}/api/notes/updatenote/${id}`, {\n      method: 'PUT',\n      headers: {\n        'Content-Type': 'application/json',\n        \"auth-token\": \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyIjp7ImlkIjoiNjJhYjg5YTU5ZTZmZWY5ODY0YzZiNzhhIn0sImlhdCI6MTY1NTQ1NTE3MX0.7Y-7ZyeVYxVh9xwkOZrszcK2nr2XCLDmcPiEBmZg_wE\"\n\n      },\n\n      body: JSON.stringify({title,description,tag})\n    });\n    const json= await response.json();\n    console.log(json);\n\n\nlet newNotes=JSON.parse(json.stringify(notes))\n  for (let index = 0; index < notes.length; index++) {\n    const element = notes[index];\n    if (notes[index]._id === id) {\n      notes[index].title = title\n      notes[index].description = description\n      notes[index].tag = tag\n    }\n\n  }\n\n}\n\n\n\nreturn (\n  <NoteContex.Provider value={{ notes, setNotes, addNote, deleteNote, editNote,getNotes }}>\n\n    {props.children}\n  </NoteContex.Provider>\n)\n}\n\nexport default NoteState"],"mappings":"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"},"metadata":{},"sourceType":"module"}